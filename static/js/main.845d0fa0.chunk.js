(this["webpackJsonpxmobots-project"]=this["webpackJsonpxmobots-project"]||[]).push([[0],{100:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),i=t.n(o),l=t(39),c=t(11),s=t(134),m=t(154),u=t(138),d=t(131),p=t(46),E=t(139),f=t(128),g=t(22),b=t(42),O=t(16),h=t(133),j=Object(f.a)((function(e){return{loadingCircle:{flexGrow:1,padding:e.spacing(2)},loadingContainer:{paddingTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",flexDirection:"column"}}}));var v=function(e){var a=j();return r.a.createElement(d.a,{maxWidth:"xs",className:a.loadingContainer},r.a.createElement(h.a,{className:a.loadingCircle}))};var A=function(e){var a=Object(n.useState)({}),t=Object(O.a)(a,2),o=t[0],i=t[1],l=Object(n.useState)(!1),c=Object(O.a)(l,2),s=c[0],m=c[1];return r.a.createElement("form",{id:e.id,onChange:function(e){i(Object(b.a)(Object(b.a)({},o),{},Object(g.a)({},e.target.name,e.target.value)))},onSubmit:function(a){a.preventDefault(),m(!0),setTimeout((function(){e.afterSubmit&&e.afterSubmit(!0,o)}),400)}},s?r.a.createElement(v,null):e.children)},C=t(17),y=t(41),w=Object(y.b)({name:"login",initialState:{login:"",logged:!1},reducers:{setLogin:function(e,a){e.login=a.payload,a.payload&&(e.logged=!0)}}}),x=w.reducer,S=w.actions.setLogin,N=function(e){return e.login.login},T=function(e){return e.login.logged},R=Object(f.a)((function(e){return{container:{paddingTop:"2em"},text:{paddingBottom:"2em"}}}));var I=function(){var e=R(),a=Object(c.g)(),t=Object(C.b)(),n=r.a.createElement(s.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",alignContent:"center",spacing:2},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(m.a,{fullWidth:!0,required:!0,autoFocus:!0,name:"login",id:"login_username",label:"Username",variant:"outlined"})),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(m.a,{fullWidth:!0,required:!0,type:"password",name:"password",id:"login_password",label:"Password",variant:"outlined"})),r.a.createElement(s.a,{item:!0,xs:12,sm:6},r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large"},"LOG IN")));return r.a.createElement(d.a,{maxWidth:"sm",className:e.container},r.a.createElement(p.a,{variant:"h5",component:"h1",gutterBottom:!0},"Login"),r.a.createElement(p.a,{variant:"body2",className:e.text},r.a.createElement(E.a,{component:l.b,to:"/signup"},"Don't have a account?")),r.a.createElement(A,{id:"loginForm",afterSubmit:function(e,n){e&&(t(S(n.login)),a.push("/home"))}},n))},M=t(136),B=t(137),D=t(149),F=t(150),k=t(157),W=t(151),P=t(152),U=t(153),J=t(79),G=t.n(J),H=t(78),q=t.n(H),V=t(156),_=t(140),z=t(141),Z=t(135),K=t(142),Q=Object(y.b)({name:"airport",initialState:{airports:[]},reducers:{AddAirport:function(e,a){e.airports.push(a.payload)},SetAirports:function(e,a){e.airports=a.payload}}}),Y=Q.reducer,X=Q.actions,$=(X.AddAirport,X.SetAirports),ee=function(e){return e.airport.airports};var ae=function(e){var a=Object(C.b)(),t=Object(n.useState)(null),o=Object(O.a)(t,2),i=o[0],l=o[1],c=Object(n.useState)(!1),s=Object(O.a)(c,2),m=s[0],d=s[1];return r.a.createElement(V.a,{onClose:e.handleClose,"aria-labelledby":"uploadfile-dialog-title",open:e.open},r.a.createElement(_.a,{id:"uploadfile-dialog-title"},"Upload a file"),r.a.createElement(z.a,null,r.a.createElement(Z.a,{type:"file",name:"file",inputProps:{accept:".json, .txt"},onChange:function(e){var a=e.target.files[0];if("application/json"===a.type||"text/plain"===a.type)return l(a),void d(!1);d(!0)},error:m})),r.a.createElement(K.a,null,r.a.createElement(u.a,{onClick:function(){var t=new FileReader;t.onload=function(t){var n=JSON.parse(t.target.result);n.aerodromes?(a($(n.aerodromes)),e.handleClose()):d(!0)},t.onerror=function(){d(!0)},t.readAsText(i)},color:"primary",disabled:!Boolean(i)||m},"Upload"),r.a.createElement(u.a,{onClick:e.handleClose,color:"secondary"},"Exit")))},te=t(143),ne=t(144),re=t(145),oe=t(146),ie=t(147),le=t(148);function ce(e){return/\d{6}([,.]\d{2})?S\/0?\d{6}([,.]\d{2})?W/i.exec(e)[0]}function se(e,a,t){return Number(e)+Number(a)/60+Number(t)/3600}var me=Object(f.a)((function(e){return{}}));var ue=function(){var e=me(),a=Object(C.c)(ee);return void 0===a||0===a.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(te.a,{component:M.a},r.a.createElement(ne.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(re.a,null,r.a.createElement(oe.a,null,r.a.createElement(ie.a,null,"Name"),r.a.createElement(ie.a,{align:"right"},"City"),r.a.createElement(ie.a,{align:"right"},"DMS"),r.a.createElement(ie.a,{align:"right"},"Created At"),r.a.createElement(ie.a,{align:"right"},"Runways"))),r.a.createElement(le.a,null,a.map((function(e){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(ie.a,{component:"th",scope:"row"},e.name),r.a.createElement(ie.a,{align:"right"},e.city),r.a.createElement(ie.a,{align:"right"},ce(e.description)),r.a.createElement(ie.a,{align:"right"},e.created_at),r.a.createElement(ie.a,{align:"right"},e.runways.length))})))))},de=t(77),pe=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}}));var Ee=function(e){var a=pe(),t=Object(C.b)(),o=e.username,i=Object(n.useState)(!1),l=Object(O.a)(i,2),c=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{open:c,handleClose:function(){return s(!1)}}),r.a.createElement(B.a,{className:a.root,component:"nav","aria-label":"main mailbox folders"},r.a.createElement(D.a,null,r.a.createElement(F.a,null,r.a.createElement(k.a,null,o.charAt(0).toUpperCase())),r.a.createElement(W.a,{primary:o})),r.a.createElement(P.a,null),r.a.createElement(D.a,{button:!0,onClick:function(){return s(!0)}},r.a.createElement(U.a,null,r.a.createElement(q.a,null)),r.a.createElement(W.a,{primary:"Upload File"})),r.a.createElement(D.a,{button:!0,onClick:function(){return t($(de.aerodromes))}},r.a.createElement(U.a,null,r.a.createElement(G.a,null)),r.a.createElement(W.a,{primary:"Load Example Airports"})),r.a.createElement(D.a,null,r.a.createElement(ue,null))))};var fe=function(e){var a=Object(C.c)(ee),t=e.containerId,o=Object(n.useState)(null),i=Object(O.a)(o,2),l=i[0],c=i[1];return Object(n.useEffect)((function(){var e=L.map(t).setView([-22.002917,-47.89875],13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiY2Ftb2xlemkiLCJhIjoiY2tmaG5xdnptMDZ2cDJ4bGRodjRteWsxbSJ9.M97VIuz7PtgpErxwqAX7QQ"}).addTo(e),c(e)}),[]),Object(n.useEffect)((function(){if(l&&a){var e=[];a.forEach((function(a){var t=function(e){var a=/0?(\d{2})(\d{2})(\d{2}([,.]\d{2})?)([SN])/i.exec(e);if(!a)return null;var t=se(a[1],a[2],a[3].replace(",","."));t="S"===a[5]?-t:t;var n=/0?(\d{2})(\d{2})(\d{2}([,.]\d{2})?)([WE])/i.exec(e);if(!n)return null;var r=se(n[1],n[2],n[3].replace(",","."));return[t,r="W"===n[5]?-r:r]}(ce(a.description));if(t){e.push(t);var n=L.marker(t,{title:a.name}).on("click",(function(e){l.flyTo(e.target.getLatLng(),13)})).addTo(l);L.circle(t,{color:"red",fillColor:"#f03",fillOpacity:.5,radius:5e3,stroke:!1}).addTo(l),n.bindPopup(L.popup().setContent(a.name))}})),l.flyToBounds(e)}}),[a]),r.a.createElement(r.a.Fragment,null," ")},ge=Object(f.a)((function(e){return{root:{display:"flex"},drawer:{width:"25%",flexShrink:1,flexGrow:0},content:{flexGrow:1,padding:e.spacing(3),height:"93vh"}}}));var be=function(){var e=ge(),a=Object(C.c)(N);return Object(C.c)(T)?r.a.createElement("main",{className:e.root},r.a.createElement(M.a,{variant:"outlined",square:!0,className:e.drawer},r.a.createElement(Ee,{username:a})),r.a.createElement("section",{id:"mainMap",className:e.content},r.a.createElement(fe,{containerId:"mainMap"}))):r.a.createElement(c.a,{to:"/login"})};function Oe(e){var a=function(e){var a=Object(n.useState)({}),t=Object(O.a)(a,2),r=t[0],o=t[1];function i(e,a){o(Object(b.a)(Object(b.a)({},r),{},Object(g.a)({},e,a)))}return Object(n.useEffect)((function(){Object.keys(e).forEach((function(e){i(e,"")}))}),[]),[r,function(a){return function(t){i(a,e[a](t.target.value))}}]}(e),t=Object(O.a)(a,2),r=t[0],o=t[1];return[function(e){return{error:Boolean(r[e]),helperText:r[e],onChange:function(a){o(e)(a)}}},{disabled:function(){var e="";return Object.keys(r).forEach((function(a){e+=r[a]})),Boolean(e)}()}]}var he=Object(f.a)((function(e){return{root:{paddingTop:"2em"},descriptionText:{paddingBottom:"1em"}}}));var je=function(){var e,a=he(),t=Object(c.g)(),o=Object(n.useState)(""),i=Object(O.a)(o,2),l=i[0],E=i[1],f=Oe((e={},Object(g.a)(e,"usernameField",(function(e){return e.length<5?"Login must have more than 5 characters":""})),Object(g.a)(e,"emailField",(function(e){return/\S+@\S+\.\S+/.test(e)?"":"Please type a valid email"})),Object(g.a)(e,"passwordField",(function(e){return E(e),e.length<8?"Password must have more than 8 characters":""})),Object(g.a)(e,"passwordConfirmField",(function(e){return e!==l?"Passwords are not equal":""})),e)),b=Object(O.a)(f,2),h=b[0],j=b[1],v=r.a.createElement(s.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",alignContent:"center",spacing:2,className:a.gridCointainer},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(m.a,Object.assign({name:"login",required:!0,fullWidth:!0,autoFocus:!0,label:"Username",variant:"outlined",id:"usernameField"},h("usernameField")))),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(m.a,Object.assign({name:"email",required:!0,fullWidth:!0,type:"email",label:"Email",variant:"outlined",id:"emailField"},h("emailField")))),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(m.a,Object.assign({name:"password",required:!0,fullWidth:!0,type:"password",label:"Password",variant:"outlined",id:"passwordField"},h("passwordField")))),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(m.a,Object.assign({fullWidth:!0,required:!0,type:"password",label:"Confirm password",variant:"outlined",id:"passwordConfirmField"},h("passwordConfirmField")))),r.a.createElement(s.a,{item:!0,xs:12}),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(u.a,Object.assign({type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large"},j),"SUBMIT")));return r.a.createElement(d.a,{className:a.root,maxWidth:"sm"},r.a.createElement(p.a,{variant:"h5",component:"h1",gutterBottom:!0,className:a.descriptionText},"Create new account"),r.a.createElement(A,{id:"signupform",afterSubmit:function(e,a){e&&t.push("/login")}},v))};var ve=function(){return r.a.createElement(l.a,{basename:"/xmobots-project"},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/"},r.a.createElement(c.a,{to:"/home"})),r.a.createElement(c.b,{exact:!0,path:"/home"},r.a.createElement(be,null)),r.a.createElement(c.b,{exact:!0,path:"/login"},r.a.createElement(I,null)),r.a.createElement(c.b,{exact:!0,path:"/signup"},r.a.createElement(je,null)),r.a.createElement(c.b,null,"404 not found")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=Object(y.a)({reducer:{login:x,airport:Y}});i.a.render(r.a.createElement(C.a,{store:Ae},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e){e.exports=JSON.parse('{"aerodromes":[{"name":"Base A\xe9rea Anapolis","city":"Anapolis","description":"AUTH/COOR APP ANAPOLIS E ACC BRASILIA ACONTECERA CENTRO COORD 161419.01S/0485820.09W (ANAPOLIS, GO) RAIO 12KM RTO","created_at":"14/10/1990","runways":[{"designation":"09/27","width":40,"length":1026}]},{"name":"Aer\xf3dromo Aracaju","city":"Aracaju","description":" OBST MONTADO (MASTRO) NEG LGTD VIOLANDO O PLANO BASICO DE ZONA DE PROTECAO DO AD COORD 105907.00S/0370424.00W ALT 65,00M (213,25FT)","created_at":"18/01/2002","runways":[{"designation":"11/25","width":30,"length":805}]},{"name":"Aeroporto Internacional de Manaus","city":"Manaus","description":"PJE MIL SOB VMC SUBJ AUTH APP MANAUS ACONTECERA CENTRO COORD 030220S/0600246W (ZONA DE LANCAMENTO FAZENDA VIDA) (COOR SBR 704) RAIO 03NM RTO","created_at":"10/08/1992","runways":[{"designation":"02/34","width":40,"length":1500}]},{"name":"Aer\xf3dromo BH","city":"Belo Horizonte","description":"OBST (TORRE DE TELECOMUNICACOES) NEG LGTD MONTADO COORD 195107,18S/0435702,03W ELEV 867M REF.: AIP MAP (VAC-SBBH)","created_at":"10/08/1992","runways":[{"designation":"15/16","width":50,"length":1377}]},{"name":"Aer\xf3dromo JK","city":"Bras\xedlia","description":"VOR/DME KUBITSCHEK VJK FREQ 117.50MHZ/CH122X COORD 155154,05S/0475400,68W HR SER H24 INSTL REF: AIP AD 2.19 ENR 4.1","created_at":"10/08/1992","runways":[{"designation":"08/28","width":40,"length":937}]}]}')},89:function(e,a,t){e.exports=t(100)}},[[89,1,2]]]);
//# sourceMappingURL=main.845d0fa0.chunk.js.map